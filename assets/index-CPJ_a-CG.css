:root{--bg-dark: #111827;--bg-panel: #1f2937;--bg-element: #374151;--accent: #3b82f6;--text: #ffffff;--life: #ef4444;--persistent-storage-slot: rgb(57, 175, 230)}*{margin:0;padding:0;box-sizing:border-box;-webkit-user-select:none;user-select:none}body{font-family:Arial,sans-serif;background-color:var(--bg-dark);color:var(--text);min-height:100vh;padding:1rem}.resource-bar{display:grid;grid-template-columns:minmax(90px,120px) minmax(90px,120px) minmax(90px,120px) 1fr;gap:1rem;margin-bottom:1rem;-webkit-user-select:none;user-select:none}.resource{background-color:var(--bg-panel);padding:.5rem;border-radius:.5rem;display:flex;align-items:center;justify-content:center;gap:.5rem}.main-content{display:grid;grid-template-columns:1fr 1fr;gap:1rem}.game-panel,.combat-panel{background-color:var(--bg-panel);padding:1rem;border-radius:.5rem}.game-panel{min-width:450px}.character-info{display:flex}.tab-buttons{display:flex;gap:.5rem;margin-bottom:1rem;width:100%}.tab-btn{background-color:var(--bg-element);color:var(--text);border:none;padding:.5rem 1rem;border-radius:.5rem;cursor:pointer;transition:background-color .3s;position:relative}.tab-btn.active{background-color:var(--accent)}.tab-btn .indicator-dot{position:absolute;top:4px;right:2px;width:8px;height:8px;border-radius:50%;background:#ef4444;display:none;z-index:10}.tab-btn.has-indicator .indicator-dot{display:block}.tab-content{height:100%}.tab-panel{display:none;background-color:var(--bg-element);padding:1rem;border-radius:.5rem;min-height:100%;max-height:70vh;overflow-y:auto}.tab-panel.active{display:block}#character-avatar,.enemy-avatar{width:8rem;height:8rem;display:flex;align-items:center;justify-content:center;font-size:2.5rem;position:relative;overflow:hidden;border-radius:2.5rem}#character-avatar img,.enemy-avatar img{width:100%;height:100%;object-fit:contain;display:block}.enemy-avatar{margin:0 auto}.enemy-section{background-color:var(--bg-element);padding:1rem;border-radius:.5rem;text-align:center;border:1px solid;display:flex;flex-direction:column;align-items:stretch;position:relative}.enemy-header{margin-bottom:.5rem}.enemy-main-row{position:relative;display:flex;flex-direction:row;align-items:stretch;justify-content:flex-start;height:100%}.enemy-avatar{width:8rem;height:8rem;display:flex;align-items:center;justify-content:center;font-size:2.5rem;position:relative;overflow:hidden;border-radius:2.5rem;margin-right:1.5rem}.enemy-life-and-stats{flex:1;display:flex;flex-direction:column;align-items:stretch;justify-content:space-between;height:8rem}.enemy-life-bar{width:100%;height:1rem;background-color:var(--bg-element);border-radius:.5rem;margin-bottom:.5rem;overflow:hidden;position:relative}#enemy-life-fill{height:100%;background-color:#ff4d4d;border-radius:.5rem;transition:width .3s}.enemy-stats{margin-top:.5rem;text-align:left}.damage-number{position:absolute;color:var(--life);margin-left:40px;font-size:1.2rem;pointer-events:none;animation:damage-popup 2s ease-out forwards;padding:5px;border-radius:5px;text-shadow:0px 0px 2px #fff,0 0 2px #fff,0 0 2px #ff0000;background:#0000001a;transform:translate(var(--x),var(--y))}.damage-number.critical{color:red;font-weight:700;font-size:1.5rem}@keyframes damage-popup{0%{opacity:1;transform:translateY(0)}80%{opacity:1;transform:translateY(-40px)}to{opacity:0;transform:translateY(-60px)}}@media (max-width: 968px){.main-content{grid-template-columns:1fr}}#stage-display{display:inline-block;font-size:16px;font-weight:700;color:#fff;background-color:#4b5563;padding:5px 10px;border-radius:8px;margin-left:10px;text-align:center;vertical-align:middle}::-webkit-scrollbar{width:8px;height:8px}::-webkit-scrollbar-track{background:var(--bg-panel);border-radius:4px}::-webkit-scrollbar-thumb{background:var(--accent);border-radius:4px}::-webkit-scrollbar-thumb:hover{background:#2563eb}*{scrollbar-width:thin;scrollbar-color:var(--accent) var(--bg-panel)}.tab-panel,.grid-container,.inventory-grid{scroll-behavior:smooth}.enemy-section{border:1px solid}.enemy-section.gray{color:gray;border-color:gray}.enemy-section.blue{color:#4169e1;border-color:#4169e1}.enemy-section.purple{color:#e50fe5;border-color:#e50fe5}.enemy-section.orange{color:orange;border-color:orange}.enemy-section.red{color:red;border-color:red}.sub-tab-btn{padding:10px;cursor:pointer}.sub-tab-btn.active{background-color:#ddd}.sub-tab-panel{display:none}.sub-tab-panel.active{display:block}.damage-number.blocked{font-weight:700;text-shadow:0 0 3px #000}.damage-number.level-up{font-weight:700;text-shadow:0 0 3px #000;z-index:100}.life-bar,.enemy-life-bar,.mana-bar{width:100%;position:relative;height:20px;background-color:#a8a3a3;border-radius:5px;margin:5px 0}.character-resources{width:100%;display:flex;flex-direction:column;justify-content:space-between;align-items:center}.character-hp-mana{display:flex;flex-direction:column;width:100%;padding:0 10px}#life-fill,#mana-fill{height:100%;border-radius:5px}#life-fill{background-color:#ff4d4d}#mana-fill{background-color:#4d4dff}.life-text,#enemy-life-text,.mana-text{position:absolute;width:100%;text-align:center;top:0;left:0;line-height:20px;font-weight:700;color:#fff;z-index:1}.life-bar,.mana-bar{overflow:hidden}.toast{position:fixed;bottom:20px;left:50%;transform:translate(-50%);background-color:#333;color:#fff;padding:12px 24px;border-radius:4px;opacity:0;transition:opacity .3s ease-in-out;z-index:1000}.toast.show{opacity:1}.toast.error{background-color:#dc2626}.toast.success{background-color:#059669}@keyframes slideIn{0%{transform:translate(100%)}to{transform:translate(0)}}@keyframes fadeOut{0%{opacity:1}to{opacity:0}}.hidden{display:none!important}.elemental-damage{display:grid;grid-template-columns:repeat(2,1fr);gap:5px;margin-top:5px}.elemental-damage div{display:flex;align-items:center;gap:5px}.action-bar{margin:10px 0;padding:5px;background:var(--bg-element);border-radius:5px}.skill-slots{display:flex;gap:5px}.skill-slot{width:40px;height:40px;background:var(--bg-panel);border:2px solid var(--accent);border-radius:5px;position:relative;cursor:pointer}.skill-slot:after{position:absolute;top:2px;left:2px;font-size:12px;color:var(--accent);background:var(--bg-panel);opacity:.8;border-radius:3px}.skill-slot.active{border-color:#f44}.attribute-description{display:none}.tooltip{position:absolute;background-color:#333;color:#fff;padding:5px 10px;border-radius:4px;z-index:1000;pointer-events:none;transition:opacity .2s;opacity:0}.tooltip.show{opacity:1}.tooltip.hidden{display:none}.modify-panel{position:fixed;top:0;right:0;background-color:#1f2937;color:#fff;border:1px solid black;padding:10px;max-height:100%;max-width:350px;overflow-y:auto;z-index:9999;font-family:monospace;font-size:12px}.modify-panel h3{margin-top:10px;margin-bottom:5px}.modify-panel button{background-color:#374151;color:#fff;border:none;padding:5px 10px;margin-bottom:5px;cursor:pointer;border-radius:5px;width:100%}.modify-panel button:hover{background-color:#4b5563}.login-link{display:flex;align-items:center;justify-content:center;color:#3b82f6;text-decoration:none;padding:2px 8px;border-radius:4px;background:#e0e7ef;transition:background .2s,color .2s}.login-link:hover{background:#3b82f6;color:#fff;text-decoration:none}.cloud-save-bar{display:flex;align-items:center;gap:1rem;background:#232b3a;border-radius:6px;padding:.4em 1em;margin-top:.2em;margin-bottom:.2em;box-shadow:0 2px 8px #00000012}#cloud-save-status{font-size:1.08em;color:#10b981;font-weight:600;letter-spacing:.2px}#cloud-save-status.not-logged-in{color:#ef4444}#cloud-save-status.saving{color:#f59e42}#cloud-save-status.failed{color:#ef4444}#cloud-save-btn,#cloud-load-btn{background:linear-gradient(90deg,#3b82f6 60%,#2563eb);color:#fff;border:none;border-radius:5px;padding:.45em 1.2em;cursor:pointer;box-shadow:0 2px 8px #3b82f614;transition:background .2s,opacity .2s}#cloud-save-btn:disabled{background:#a1a1aa;color:#e5e7eb;cursor:not-allowed;opacity:.7}.login-status{color:#ef4444}#custom-confirm-dialog{position:fixed;left:0;top:0;right:0;bottom:0;display:none;align-items:center;justify-content:center;z-index:9999;font-family:inherit}#custom-confirm-dialog.show{display:flex}#custom-confirm-dialog .confirm-backdrop{position:absolute;left:0;top:0;right:0;bottom:0;background:#0006}#custom-confirm-dialog .confirm-content{position:relative;background:#222;color:#fff;border-radius:8px;padding:24px 32px;min-width:300px;box-shadow:0 4px 24px #0006;z-index:1;text-align:center;animation:popin .2s}#custom-confirm-dialog .confirm-message{margin-bottom:18px;font-size:1.1em;line-height:1.5}#custom-confirm-dialog .confirm-actions{display:flex;gap:16px;justify-content:center}#custom-confirm-dialog .confirm-btn{padding:8px 24px;border:none;border-radius:4px;font-size:1em;cursor:pointer;background:#059669;color:#fff;transition:background .2s}#custom-confirm-dialog .confirm-btn.confirm-no{background:#dc2626}#custom-confirm-dialog .confirm-btn:hover{filter:brightness(1.1)}@keyframes popin{0%{transform:scale(.95);opacity:0}to{transform:scale(1);opacity:1}}.enemy-damage{position:absolute;bottom:0;right:0;padding:15px}body.dev-active .game-container{max-width:calc(100vw - 720px);margin-left:370px;margin-right:370px;transition:max-width .3s,margin .3s}@media (max-width: 1200px){body.dev-active .game-container{max-width:100vw;margin-left:0;margin-right:0}}.enemy-name{text-align:left;margin:0;margin-bottom:.25rem;font-size:1.2rem;font-weight:700}.character-controls{display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin:1rem 0}.character-controls button{background-color:var(--bg-element);color:var(--text);border:none;padding:.5rem;border-radius:.5rem;cursor:pointer}#start-btn{background-color:#059669;color:#fff;border:none;padding:.5rem 1rem;border-radius:.5rem;cursor:pointer;transition:background-color .3s}#start-btn:hover{background-color:#047857}.region-tabs{display:flex;gap:.5rem;margin-bottom:1rem}.region-tab{background-color:var(--bg-element);color:var(--text);border:none;padding:.5rem 1rem;border-radius:.5rem;cursor:pointer;transition:background-color .3s}.region-tab.active{background-color:var(--accent)}.region-panel{margin-top:1rem}.stats-container,.attributes-container{padding:10px;border:1px solid #fff;background-color:#222;border-radius:5px}.attributes-container{display:grid;grid-gap:5px}.attributes-container>h3{grid-column:1 / -1}.stats-container{margin-bottom:1em;min-height:300px}.stats-container h3,.attributes-container h3{margin-bottom:10px;font-size:1.2em;color:#fff}.attributes-container{background-color:#222}.attributes-container .allocate-btn{padding:5px 10px;font-size:14px;background-color:#059669;color:#fff;border:none;border-radius:5px;cursor:pointer;margin-left:5px;transition:all .3s ease}.attributes-container .allocate-btn:hover{background-color:#047857;transform:scale(1.1)}.attributes-container .allocate-btn:disabled{background-color:#4b5563;cursor:not-allowed}.attributes-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px;flex-basis:100%}.attributes-body{display:grid;grid-template-columns:repeat(2,1fr);gap:10px}.attributes-container .allocate-modes{grid-column:1 / -1;display:flex;gap:5px;margin-bottom:10px}.attributes-container .mode-btn{padding:5px 10px;font-size:14px;background-color:#4b5563;color:#fff;border:none;border-radius:5px;cursor:pointer;transition:background-color .2s ease}.attributes-container .mode-btn:hover{background-color:#6b7280}.attributes-container .mode-btn.active{background-color:#059669}.stats-panel{display:none}.stats-panel.active{display:block}.stats-tabs{display:flex;gap:5px;margin-bottom:10px}.stats-tabs .subtab-btn{padding:5px 10px;background-color:#4b5563;color:#fff;border:none;border-radius:4px;cursor:pointer;transition:background-color .2s}.stats-tabs .subtab-btn.active{background-color:#059669}.stats-tabs .subtab-btn:hover{background-color:#6b7280}.elemental-stats-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:8px;margin-top:8px}.elemental-stats-grid .elemental-row{display:flex;align-items:center;gap:4px}.stat-row .stat-label{display:inline-block;width:180px;font-weight:700}.training-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem;padding:1rem;-webkit-user-select:none;user-select:none}.training-grid button{background:linear-gradient(145deg,#2d303c,#23252f);color:var(--text, #fff);border:1px solid var(--accent, #3b82f6);padding:.75rem .5rem;border-radius:.6rem;box-shadow:4px 4px 8px #00000080,-2px -2px 6px #3b82f61a;cursor:pointer;transition:background .2s,transform .2s,box-shadow .2s;min-height:60px;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center}.training-grid button:hover:not(:disabled){background:linear-gradient(145deg,#34374d,#292c3a);transform:translateY(-1px);box-shadow:6px 6px 12px #0009,0 0 8px var(--accent, #3b82f6)}.training-grid button:active{transform:translateY(0)}.training-grid button:disabled{background:#1f2128;border-color:#4b5563;color:#6b7280;cursor:not-allowed;box-shadow:inset 2px 2px 4px #0009}.training-grid .upgrade-name{font-weight:700;font-size:1rem;margin-bottom:.3rem}.training-grid .upgrade-bonus{color:#9ee69e;font-size:.85rem;margin:0;text-shadow:1px 1px 2px rgba(0,0,0,.6)}.training-section-nav{display:flex;gap:.5rem;margin-bottom:1rem;justify-content:center}.training-section-btn{background:var(--bg-element, #23272f);color:var(--text, #fff);border:2px solid var(--accent, #3b82f6);border-radius:.5rem;padding:.5rem 1.2rem;font-size:1.05rem;font-weight:600;cursor:pointer;transition:background .2s,color .2s,border-color .2s,transform .2s;outline:none}.training-section-btn.active,.training-section-btn:focus{background:var(--accent, #3b82f6);color:#fff;border-color:var(--accent, #3b82f6);transform:translateY(-2px) scale(1.04);box-shadow:0 2px 8px #3b82f626}.training-section-btn:hover:not(.active){background:#2d3340;color:var(--accent, #3b82f6);border-color:var(--accent, #3b82f6)}.training-modal{position:fixed;top:0;left:0;right:0;bottom:0;background:#0009;display:flex;align-items:center;justify-content:center;z-index:1000}.training-modal.hidden{display:none}.training-modal-content{background:var(--bg-element, #1e2127);padding:1.5rem;border-radius:.75rem;width:400px;text-align:center;position:relative;box-shadow:0 8px 24px #00000080}.training-modal-close{position:absolute;top:.5rem;right:.75rem;background:transparent;border:none;color:var(--text, #fff);font-size:1.5rem;cursor:pointer}.training-modal-content h2{margin-bottom:1rem;font-size:1.25rem;color:var(--accent, #3b82f6)}.training-modal-content p{margin:.5rem 0;color:var(--text, #fff)}.training-modal-content .modal-controls{display:flex;gap:.5rem;justify-content:center;margin-top:1rem}.training-modal-content .modal-controls button{background:var(--accent, #3b82f6);color:#fff;border:none;padding:.5rem .75rem;border-radius:.5rem;font-size:.95rem;cursor:pointer;transition:background .2s}.training-modal-content .modal-controls button:hover{background:#2563eb}.training-modal-content .modal-buy{background:var(--accent, #3b82f6);color:#fff;border:none;padding:.75rem;border-radius:.5rem;width:100%;font-size:1rem;font-weight:600;cursor:pointer;margin-top:1rem;transition:background .2s,opacity .2s}.training-modal-content .modal-buy:hover:not(:disabled){background:#2563eb}.training-modal-content .modal-buy:disabled{opacity:.6;cursor:not-allowed}.crystal-upgrades-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem;padding:1rem;-webkit-user-select:none;user-select:none}.crystal-upgrade-btn{background-color:var(--bg-element);color:var(--text);border:2px solid var(--accent);padding:1rem;border-radius:.5rem;cursor:pointer;font-size:1rem;transition:all .3s ease;min-height:80px;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;line-height:1.4}.crystal-upgrade-btn:hover{background:#34495e}.crystal-upgrade-btn .upgrade-name{font-weight:700;font-size:1.1rem;margin-bottom:.5rem}.crystal-upgrade-btn .upgrade-cost{font-size:.9rem;color:#27c7cc}.crystal-upgrade-btn.purchased{opacity:.7;cursor:default}.crystalShop-header{display:flex;justify-content:space-around;width:100%;max-width:700px;margin-bottom:20px}.souls-display,.earned-souls-display{background:#1f2937;color:#fff;padding:10px;border-radius:8px;text-align:center;width:150px;height:100px;display:flex;flex-direction:column;justify-content:center;align-items:center;border:none;transition:background .2s}.earned-souls-display{background:#1f2937}.earned-souls-display:hover{cursor:pointer;background:#647081}.souls-display h3,.earned-souls-display h3{margin:0 0 5px;font-size:1rem}.bonus{color:#10b981;font-size:1.2rem;font-weight:700}.crystalShop-upgrades{display:grid;grid-template-columns:repeat(2,1fr);gap:20px;width:100%;max-width:700px}.modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000b3;z-index:1000}.modal-content{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#1f2937;padding:2rem;border-radius:8px;box-shadow:0 0 20px #00000080;text-align:center;min-width:300px}.modal h2{color:#fff;margin-bottom:1rem}.souls-preview{margin:1.5rem 0;font-size:1.1rem}.souls-amount{color:#fbbf24;font-size:1.5rem;font-weight:700;margin-top:.5rem}.warning{color:#ef4444;margin:1rem 0;font-size:.9rem}.modal-buttons{display:flex;justify-content:center;gap:1rem;margin-top:1.5rem}.modal-btn{padding:.5rem 1.5rem;border-radius:4px;border:none;cursor:pointer;font-weight:700;transition:opacity .2s}.modal-btn:hover{opacity:.9}.modal-btn.cancel{background-color:#4b5563;color:#fff}.modal-btn.confirm{background-color:#dc2626;color:#fff}.upgrade-btn{background:#059669;color:#fff;border:none;padding:10px 20px;border-radius:5px;font-size:1rem;cursor:pointer;transition:background .2s}.upgrade-btn:hover{background:#047857}.upgrade-btn.disabled{background:#6b7280;cursor:not-allowed}.inventory-btn{margin:5px;cursor:pointer;padding:8px;border-radius:.5rem}.equipment-container{background:var(--bg-element);border-radius:.5rem}.equipment-layout{position:relative;width:300px;height:280px;margin:0 auto}.equipment-slots{position:absolute;width:100%;height:100%;z-index:2}.character-preview{position:absolute;width:100%;height:100%;display:flex;align-items:center;justify-content:center;font-size:5rem;background:var(--bg-panel);border-radius:.5rem;z-index:1}.equipment-slot{position:absolute;width:50px;height:50px;background:var(--bg-panel);border:2px solid #3d4757;border-radius:.25rem;display:flex;align-items:center;justify-content:center}.equipment-slot[data-slot=head]{top:20px;left:50%;transform:translate(-50%)}.equipment-slot[data-slot=amulet]{top:35px;right:70px}.equipment-slot[data-slot=chest]{top:70px;left:50%;transform:translate(-50%)}.equipment-slot[data-slot=belt]{top:120px;left:50%;transform:translate(-50%)}.equipment-slot[data-slot=legs]{top:170px;left:50%;transform:translate(-50%)}.equipment-slot[data-slot=weapon]{top:100px;left:40px}.equipment-slot[data-slot=offhand]{top:100px;right:40px}.equipment-slot[data-slot=gloves]{top:160px;left:40px}.equipment-slot[data-slot=ring1]{top:160px;right:70px}.equipment-slot[data-slot=ring2]{top:160px;right:20px}.equipment-slot[data-slot=boots]{top:220px;left:50%;transform:translate(-50%)}.slot-indicator{position:absolute;opacity:.3;font-size:1.5rem;pointer-events:none}.equipment-slot.has-item .slot-indicator{display:none}.item-tooltip{background:#000000e6;padding:10px;margin:5px;border-radius:5px;pointer-events:none;z-index:1000;min-width:200px;box-shadow:0 0 10px #00000080}.item-name{font-weight:700;margin-bottom:5px}.item-level{color:#888;font-size:.9em;margin-bottom:5px}.item-stat{color:#4caf50}.inventory-grid{display:block;align-content:center;justify-items:center}.grid-container{display:grid;grid-template-columns:repeat(10,40px);grid-template-rows:repeat(20,40px);gap:0;padding:8px;background:var(--bg-panel);border-radius:.5rem;width:fit-content;overflow-y:auto}.grid-cell,.materials-cell{width:40px;height:40px;background:var(--bg-panel);border:1px solid var(--bg-element);border-radius:.25rem}.inventory-item{background:var(--bg-panel);border:2px solid var(--accent);border-radius:.25rem;font-size:.8em;display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:100%}.item-icon{font-size:2em;text-align:center;-webkit-user-select:none;user-select:none}.equipment-slot{width:40px;height:40px}.equipment-slot .inventory-item{z-index:1}.inventory-item.dragging{opacity:.5;cursor:grabbing}.equipment-slot.valid-target{background-color:#4caf5033}.equipment-slot.invalid-target{background-color:#f4433633}#inventory{-webkit-user-select:none;user-select:none;overflow-y:scroll}.loot-notification{position:fixed;bottom:20px;right:20px;background:var(--bg-panel);padding:10px 20px;border-radius:5px;animation:slideIn .3s ease-out,fadeOut .3s ease-in 2.7s;z-index:1000}@keyframes equipItem{0%{transform:scale(.8);opacity:.5}50%{transform:scale(1.1)}to{transform:scale(1);opacity:1}}.inventory-item.equipping{animation:equipItem .3s ease-out}.rarity-normal{border-color:#fff}.rarity-magic{border-color:#4287f5}.rarity-rare{border-color:gold}.rarity-unique{border-color:#ff8c00}.rarity-legendary{border-color:#e65a27}.rarity-mythic{border-color:#f03}.salvage-container{display:flex;align-items:center;justify-content:center;margin:10px 20px}.salvage-dropdown{position:relative;display:inline-block}.salvage-btn{padding:8px 16px;background:#2c3e50;border:1px solid #34495e;color:#fff;cursor:pointer;display:flex;align-items:center;gap:8px}.salvage-options{display:none;position:absolute;background:#2c3e50;min-width:160px;box-shadow:0 2px 5px #0003;z-index:1}.salvage-options div{padding:8px 16px;cursor:pointer}.salvage-options div:hover{background:#34495e}.salvage-dropdown:hover .salvage-options{display:block}.salvage-options div[data-rarity=NORMAL]{color:#fff;border-left:4px solid #ffffff}.salvage-options div[data-rarity=MAGIC]{color:#4287f5;border-left:4px solid #4287f5}.salvage-options div[data-rarity=RARE]{color:gold;border-left:4px solid #ffd700}.salvage-options div[data-rarity=UNIQUE]{color:#ff8c00;border-left:4px solid #ff8c00}.salvage-options div[data-rarity=LEGENDARY]{color:#e65a27;border-left:4px solid #e65a27}.salvage-options div[data-rarity=MYTHIC]{color:#f03;border-left:4px solid #ff0033}.grid-cell.persistent{border:1px solid var(--persistent-storage-slot);background:#ffffff0d}.flex-tooltip{display:flex;align-items:center;justify-content:center;background:unset}.inventory-tabs{display:flex}.inventory-btn.active{background:#2b97c9;color:#fff;border:1px solid rgb(43,151,201);padding:8px}.materials-grid{display:block;align-content:center;justify-items:center}.materials-container{display:grid;grid-template-columns:repeat(10,40px);grid-template-rows:repeat(5,40px);gap:0;padding:8px;background:var(--bg-panel);border-radius:.5rem;width:fit-content;overflow-y:auto;margin-bottom:10px}.material-item{height:38px;// w/o border}.inventory-trash{display:flex;align-items:center;justify-content:center;border:2px dashed #888;border-radius:8px;background:#222;margin-left:10px;color:#fff;cursor:pointer;transition:background .2s,border-color .2s}.inventory-trash.drag-over{background:#a33;border-color:#f55}.class-selection{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px;padding:20px}.class-path{background:var(--bg-panel);border:2px solid var(--accent);border-radius:8px;padding:20px;text-align:center;transition:transform .2s}.class-path h3{color:var(--accent);margin-bottom:10px}.base-stats{margin:15px 0;padding:10px;background:var(--bg-element);border-radius:5px}.base-stats div{color:#4caf50;margin:5px 0}.skill-tree-container{padding:20px;background:var(--bg-panel);border-radius:8px}.skill-row{display:flex;justify-content:center;gap:20px;margin:15px 0;flex-wrap:wrap}.skill-level{font-size:.8em;color:#aaa}.class-path button{background-color:var(--accent);color:#fff;padding:12px 24px;border:none;border-radius:6px;font-size:16px;font-weight:600;cursor:pointer;transition:all .2s ease;margin-top:15px;box-shadow:0 2px 4px #0003}.class-path button:hover{transform:translateY(-2px);box-shadow:0 4px 8px #0000004d;background-color:var(--accent-hover)}.class-path button:active{transform:translateY(0);box-shadow:0 1px 2px #0003}.level-requirement{color:var(--accent);font-weight:700;padding:10px;text-align:center}.skill-node{width:60px;height:60px;border:2px solid #666;border-radius:10px;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;position:relative;overflow:hidden;transition:all .2s}.skill-node.available{border-color:#4caf50}.skill-node.unlocked{border-color:#fff}.skill-node.active{border-color:#f44}.skill-node.passive{border-color:#4f4}.skill-icon{width:36px;height:36px;background-size:contain;background-repeat:no-repeat;background-position:center;margin:auto}.skill-slot{position:relative;width:40px;height:40px;border:2px solid #666;border-radius:4px;margin:4px;cursor:pointer;overflow:visible}.skill-slot.active{border:2px solid #4caf50;box-shadow:0 0 10px #4caf50}.cooldown-overlay{position:absolute;top:0;left:0;width:100%;height:0%;background:#000000b3;transition:height .1s linear;pointer-events:none}.skill-description{display:none;position:fixed;background:#000000e6;color:#fff;padding:8px;border-radius:4px;font-size:14px;white-space:pre-line;z-index:1000;pointer-events:none;top:100%}.skill-node:hover .skill-description{display:block}.key-indicator{position:absolute;top:2px;left:2px;background:#000000b3;color:#fff;padding:2px 4px;border-radius:3px;font-size:12px;z-index:2}.skill-tooltip{display:none;position:absolute;top:100%;left:50%;transform:translate(-50%);background:#000000e6;color:#fff;padding:8px;border-radius:4px;width:200px;pointer-events:none;z-index:1000}.skill-slot:hover .skill-tooltip{display:block}.tooltip-header{color:#4caf50;font-weight:700;margin-bottom:4px}.tooltip-type{color:#888;font-size:.9em;margin-bottom:4px}.tooltip-effects{margin:4px 0}.tooltip-cooldown,.tooltip-duration{color:#64b5f6;font-size:.9em}.skill-path-name{font-size:1.5em;color:var(--accent);margin-right:40px}.class-path img{box-shadow:0 2px 8px #0000002e;background:#222}#class-selection{display:grid;grid-template-columns:1fr 1fr;gap:14px}#class-selection .class-path{margin-bottom:18px;border:1px solid #333;border-radius:8px;background:#181818;padding:12px}#class-selection .class-path{margin-bottom:0}.skill-modal{position:fixed;top:0;left:0;right:0;bottom:0;background:#0009;display:flex;align-items:center;justify-content:center;z-index:1000}.skill-modal.hidden{display:none}.skill-modal-content{background:var(--bg-element, #1e2127);padding:1.5rem;border-radius:.75rem;width:400px;text-align:center;position:relative;box-shadow:0 8px 24px #00000080}.skill-modal-close{position:absolute;top:.5rem;right:.75rem;background:transparent;border:none;color:var(--text, #fff);font-size:1.5rem;cursor:pointer}.skill-modal-content h2{margin-bottom:1rem;font-size:1.25rem;color:var(--accent, #3b82f6)}.skill-modal-content p{margin:.5rem 0;color:var(--text, #fff)}.skill-modal-content .modal-skill-stats p{margin:.75rem 0}.skill-modal-content .modal-controls{display:flex;gap:.5rem;justify-content:center;margin-top:1rem}.skill-modal-content .modal-controls button{background:var(--accent, #3b82f6);color:#fff;border:none;padding:.5rem .75rem;border-radius:.5rem;font-size:.95rem;cursor:pointer;transition:background .2s}.skill-modal-content .modal-controls button:hover{background:#2563eb}.skill-modal-content .modal-buy{background:var(--accent, #3b82f6);color:#fff;border:none;padding:.75rem;border-radius:.5rem;width:100%;font-size:1rem;font-weight:600;cursor:pointer;margin-top:1rem;transition:background .2s,opacity .2s}.skill-modal-content .modal-buy:hover:not(:disabled){background:#2563eb}.skill-modal-content .modal-buy:disabled{opacity:.6;cursor:not-allowed}.skill-modal-content .modal-skill-icon{width:72px;height:72px;margin:0 auto 1rem;background-size:contain;background-repeat:no-repeat;background-position:center;border-radius:8px}#auto-cast-section,#display-section{margin-top:32px;background:var(--bg-panel);border-radius:8px;padding:12px}#auto-cast-section h3,#display-section h3{margin-bottom:8px;color:var(--accent);font-size:1.1em}.auto-cast-switch,.display-switch{display:flex;align-items:center;margin-bottom:6px}.auto-cast-switch .skill-icon,.display-switch .skill-icon{width:28px;height:28px;background-size:cover;background-position:center;border-radius:4px;margin-right:8px}.auto-cast-switch label,.display-switch label{flex:1;color:var(--text);font-size:.95em}.auto-cast-switch input[type=checkbox],.display-switch input[type=checkbox]{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:40px;height:20px;background:var(--bg-element);border-radius:10px;position:relative;cursor:pointer;outline:none;transition:background .2s}.auto-cast-switch input[type=checkbox]:before,.display-switch input[type=checkbox]:before{content:"";position:absolute;top:2px;left:2px;width:16px;height:16px;background:#fff;border-radius:50%;transition:transform .2s}.auto-cast-switch input[type=checkbox]:checked,.display-switch input[type=checkbox]:checked{background:var(--accent)}.auto-cast-switch input[type=checkbox]:checked:before,.display-switch input[type=checkbox]:checked:before{transform:translate(20px)}.options-container{padding:20px}.options-section{background:#0003;border-radius:8px;padding:15px;margin-bottom:20px}.options-section h3{color:#fff;margin-bottom:15px;border-bottom:1px solid rgba(255,255,255,.1);padding-bottom:5px}.stats-display{display:flex;flex-direction:column;gap:10px;color:#fff;margin-bottom:20px}.stats-display div{padding:8px;background:#0000004d;border-radius:4px;font-size:14px}.danger-button{background:#dc2626;color:#fff;border:none;padding:12px 24px;border-radius:4px;cursor:pointer;font-weight:700;transition:background .2s;width:100%;margin-bottom:10px}.danger-button:hover{background:#ef4444}#region-selector{display:grid;grid-template-columns:repeat(6,1fr);gap:6px;margin-bottom:16px;margin-top:8px}.region-btn{background:linear-gradient(90deg,#232b38 60%,#1a202c);color:#fff;border:2px solid #3b4a5a;border-radius:10px;padding:8px 12px;font-family:inherit;font-weight:600;box-shadow:0 2px 8px #0002;cursor:pointer;transition:background .2s,border .2s,color .2s,box-shadow .2s;outline:none;position:relative}.region-btn:hover{background:linear-gradient(90deg,#2563eb 60%,#1e40af)}.region-btn.selected{background:linear-gradient(90deg,#059669 60%,#047857);color:#fff;border-color:#059669;box-shadow:0 4px 16px #05966944;z-index:1}.region-btn:disabled{background:#232b38;color:#888;border-color:#444;cursor:not-allowed;opacity:.7}// Region tabs container .region-tabs{display:flex;gap:.5rem;margin-bottom:1rem}// Region panel styling .region-panel{padding:1rem;background:#2d3748;border-radius:.5rem;min-height:200px}// Hidden panels .region-panel.hidden{display:none}.modal{position:fixed!important;top:0!important;right:0!important;bottom:0!important;left:0!important;display:flex!important;align-items:center!important;justify-content:center!important;background:#0009!important;z-index:1000!important}.modal.hidden{display:none!important}.modal-content{background:var(--bg-element)!important;border-radius:.75rem!important;padding:1.5rem!important;box-shadow:0 8px 24px #00000080!important;position:relative!important;width:90%!important;max-width:400px!important}.modal-close{position:absolute!important;top:.5rem!important;right:.75rem!important;background:none!important;border:none!important;font-size:1.25rem!important;cursor:pointer!important}.quest-list{display:flex;flex-direction:column;gap:8px;padding:8px}.quest-item{display:flex;align-items:center;gap:8px;padding:8px;border:1px solid #fff;border-radius:4px;background-color:#222;cursor:pointer;transition:background-color .2s,border-color .2s}.quest-item.ready{border-color:#22c55e;background-color:#19391e}.quest-item.claimed{border-color:#000;background-color:#222447}.quest-icon{border:1px solid #158af1;border-radius:50%;font-size:1.5em}.quest-title{font-weight:700;color:#fff}.quest-progress{margin-left:auto;color:#aaa}#quest-modal .modal-content{display:flex;flex-direction:column;gap:12px}#quest-modal .modal-btn{padding:8px 16px;border:none;border-radius:4px;cursor:pointer}#quest-claim-btn{background-color:#06b6d4;color:#fff}#quest-claim-btn:disabled{background-color:#6b7280!important;color:#fff!important;cursor:not-allowed!important;opacity:.7}#quest-modal-close{background-color:#4b5563;color:#fff}.quest-tabs{display:flex;gap:8px;padding:8px 8px 0;margin-bottom:4px}.quest-tab{background:#232946;color:#38bdf8;border:none;border-radius:4px 4px 0 0;padding:6px 18px;font-weight:700;cursor:pointer;font-size:1em;transition:background .2s,color .2s}.quest-tab.active{background:#38bdf8;color:#fff}.quest-tab:not(.active):hover{background:#19391e;color:#22c55e}.danger-button,#reset-progress{background:#d32f2f;color:#fff;border:none;padding:.7em 1.5em;border-radius:4px;font-weight:700;cursor:pointer;margin-bottom:1em;transition:background .2s}.danger-button:hover,#reset-progress:hover{background:#b71c1c}.discord-link{display:inline-flex;align-items:center;gap:.5em;background:#5865f2;color:#fff;text-decoration:none;font-weight:600;padding:.6em 1.2em;border-radius:4px;transition:background .2s,box-shadow .2s;box-shadow:0 2px 8px #5865f214;margin-top:.5em}.discord-link:hover,.discord-link:focus{background:#4752c4;text-decoration:none;box-shadow:0 4px 16px #5865f22e;outline:none}.discord-link .discord-icon{display:inline-block;width:1.3em;height:1.3em;vertical-align:middle;fill:#fff}#buildings{padding:24px 16px;background:#181c24;color:#f3e9d2;border-radius:8px;min-height:300px}#buildings h2{font-size:2rem;margin-bottom:16px;color:gold}#buildings-list{display:flex;flex-wrap:wrap;gap:16px;margin-bottom:24px}#buildings-list button{background:#23283a;color:gold;border:2px solid #ffd700;border-radius:6px;padding:12px 24px;font-size:1.1rem;cursor:pointer;transition:background .2s,color .2s}#buildings-list button:hover{background:gold;color:#23283a}#buildings-list button.crystal-lab{color:#6ecbff;border-color:#6ecbff}#buildings-list button.crystal-lab:hover{background:#6ecbff;color:#23283a}#buildings-list button.soul-forge{color:#b0b0b0;border-color:#b0b0b0}#buildings-list button.soul-forge:hover{background:#b0b0b0;color:#23283a}.building-modal{position:fixed;left:0;top:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;z-index:10000;background:#00000080}.building-modal .building-modal-content{background:#23272f;color:#e0e0e0;border-radius:14px;padding:40px 44px 32px;min-width:320px;max-width:90vw;box-shadow:0 10px 36px #0000008c;position:relative;text-align:center;font-size:1.18rem;display:flex;flex-direction:column;align-items:center}.building-modal .building-modal-content h2{margin-top:0;margin-bottom:18px;font-size:2.1rem;color:#ffe066;font-weight:700;letter-spacing:1px}.building-modal .building-modal-content p{margin:12px 0;font-size:1.18rem;color:#e0e0e0}.building-modal .modal-close{position:absolute;top:16px;right:20px;background:none;border:none;color:#888;font-size:2rem;cursor:pointer;transition:color .2s}.building-modal .modal-close:hover{color:#ffe066}.building-modal .collect-btn{margin-top:36px;margin-bottom:0;background:#ffe066;color:#23272f;border:none;border-radius:7px;padding:15px 48px;font-size:1.18rem;font-weight:700;cursor:pointer;box-shadow:0 2px 10px #0000002e;transition:background .2s,color .2s;align-self:center;display:block}.building-modal .collect-btn:hover{background:#ffe066;color:#20263a}.building-modal .bonus-gold{color:#ffe066;font-weight:700}.building-modal .bonus-crystals{color:#6ecbff;font-weight:700}.building-modal .bonus-souls{color:#b0b0b0;font-weight:700}.building-modal .modal-controls{display:flex;gap:14px;justify-content:center;margin-top:18px;margin-bottom:0}.building-modal .modal-controls button{background:#23283a;color:gold;border:2px solid #ffd700;border-radius:6px;padding:10px 22px;font-size:1.08rem;font-weight:500;cursor:pointer;transition:background .2s,color .2s,border-color .2s;box-shadow:0 1px 6px #00000021}.building-modal .modal-controls button:hover{background:gold;color:#23283a;border-color:gold}.building-modal-content.crystal-lab h2{color:#6ecbff}.building-modal-content.soul-forge h2{color:#b0b0b0}.building-modal-content.crystal-lab .modal-controls button{color:#6ecbff;border-color:#6ecbff}.building-modal-content.crystal-lab .modal-controls button:hover{background:#6ecbff;color:#23283a;border-color:#6ecbff}.building-modal-content.soul-forge .modal-controls button{color:#b0b0b0;border-color:#b0b0b0}.building-modal-content.soul-forge .modal-controls button:hover{background:#b0b0b0;color:#23283a;border-color:#b0b0b0}#buildings-map-outer{width:100%;max-width:100vw;height:500px;max-height:80vh;overflow-x:auto;overflow-y:auto;position:relative;touch-action:pan-x pan-y;cursor:grab;background:#23272f;border-radius:12px;margin-bottom:24px;box-shadow:0 4px 24px #0000002e;scrollbar-width:none;-ms-overflow-style:none}#buildings-map-outer:active{cursor:grabbing}#buildings-map-outer::-webkit-scrollbar{display:none}#buildings-map-container{width:900px;height:900px;background:url(./assets/building-map-DnyyhR9y.jpg) center center/contain no-repeat,#23272f;border-radius:12px;position:relative;overflow:hidden;margin:0 auto}#buildings-map{width:100%;height:100%;position:relative}.building-spot{position:absolute;width:10%;display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:2}.building-img{width:90%;height:90%;object-fit:contain;border-radius:10px}.building-placeholder{width:70px;height:70px;background:#23283a;color:#888;border:2px dashed #444;border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:2.5rem;font-weight:700;opacity:.7}.building-level-badge{position:absolute;top:1px;right:1px;background:gold;color:#23272f;border-radius:50%;width:28px;height:28px;display:flex;align-items:center;justify-content:center;font-size:1.1rem;font-weight:700;box-shadow:0 1px 6px #00000021;border:2px solid #fffbe6;z-index:3}.open-map-btn,.add-spot-btn{background:#ffe082;color:#23283a;border:2px solid #ffd700;border-radius:8px;padding:12px 28px;font-size:1.08rem;font-weight:600;cursor:pointer;margin:12px 0 18px;box-shadow:0 1px 4px #00000014;transition:background .18s,color .18s,box-shadow .18s}.open-map-btn:hover,.add-spot-btn:hover{background:#ffe9a7;color:#181c24;box-shadow:0 2px 8px #00000021}.add-spot-btn{border-color:#6ecbff;background:#e3f6ff;color:#23283a}.add-spot-btn:hover{background:#c6eaff;color:#181c24}#buildings-map-modal-content{background:#23272feb;border-radius:16px;box-shadow:0 8px 32px #00000047;padding:32px 32px 24px;max-width:1100px;margin:0 auto;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}#remove-building-btn{background:#ffebee;color:#b71c1c;border:2px solid #b71c1c;border-radius:8px;padding:10px 24px;font-size:1.05rem;font-weight:600;margin-top:18px;cursor:pointer;transition:background .18s,color .18s,border .18s;box-shadow:0 1px 4px #b71c1c14}#remove-building-btn:hover{background:#ffcdd2;color:#7f1010;border-color:#7f1010}.bonus-summary{display:flex;flex-direction:column;align-items:flex-start;gap:6px;background:#23272fd9;border-radius:8px;padding:10px 18px;margin-bottom:18px;font-size:1.08rem}.bonus-summary b{margin-bottom:2px;font-weight:600;color:gold}.bonus-gold,.bonus-crystals,.bonus-souls{margin-right:0}.gold-color{color:gold}.crystals-color{color:#6ecbff}.souls-color{color:#b39ddb}.built-buildings-list{margin-top:14px;padding:10px 0 0;display:flex;flex-direction:column;gap:6px}.built-building-row{display:flex;align-items:center;gap:10px;font-size:1.01rem;color:#e0e0e0}.built-building-name{font-weight:500;color:gold}.built-building-level{font-size:.98rem;color:#b39ddb;margin-left:4px}.built-building-none{color:#888;font-style:italic}
